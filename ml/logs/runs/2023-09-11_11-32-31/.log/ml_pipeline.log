[00:00:00:00] Config files dumped to 'C:\Users\bossh\Documents\GitHub\master_thesis\ml\src\pipeline\../../logs\runs\2023-09-11_11-32-31\.log'
[00:00:00:26] Fingerprint dataframe: 9476 chemicals, 2362 binary features
[00:00:00:26] ################################################################################
[00:00:00:27] Start ML pipeline for assay ID: 768

[00:00:00:31] Assay dataframe: 8306 chemical/hitcall datapoints
[00:00:00:42] Merged aeid output and fps: 7951 datapoints (chemical fingerprint/hitcall)
[00:00:00:42] Activity threshold: (hitcall >= 0.5 is active)

[00:00:00:55] Label Count TOTAL: 7481 datapoints
 with 6430 inactive, 1051 active (14.05%)

[00:00:00:55] Label Count TRAIN: 6058 datapoints
 with 5207 inactive, 851 active (14.05%)

[00:00:00:56] Label Count VALIDATION: 674 datapoints
 with 579 inactive, 95 active (14.09%)

[00:00:00:56] Label Count TEST: 749 datapoints
 with 644 inactive, 105 active (14.02%)

[00:00:12:13] XGBClassifier: GridSearchCV Results:
[00:00:12:13] Best params:
{'XGBClassifier__n_estimators': 150, 'XGBClassifier__tree_method': 'gpu_hist'} with mean cross-validated make_scorer(fbeta_score, beta=1) score: 0.41522349888377363

[00:00:12:14] Saved model in C:\Users\bossh\Documents\GitHub\master_thesis\ml\src\pipeline\../../logs\runs\2023-09-11_11-32-31\768\XGBClassifier
[00:00:12:14] Predict (validation)
[00:00:12:67] Optimal threshold saved as png
[00:00:12:67] Optimal threshold: 0.11046508699655533
[00:00:12:71] Classification Report XGBClassifier:
[00:00:12:72]               precision    recall  f1-score   support

        True       0.44      0.73      0.55        95
       False       0.95      0.85      0.90       579

    accuracy                           0.83       674
   macro avg       0.69      0.79      0.72       674
weighted avg       0.88      0.83      0.85       674

[00:00:12:72] Total: 674 datapoints
[00:00:12:72] Ground truth: 95 positive, 579 negative
[00:00:12:72] Prediction: 157 positive, 517 negative
[00:00:12:96] Predict (massbank_validation_from_structure)
[00:00:13:42] Optimal threshold saved as png
[00:00:13:42] Optimal threshold: 0.1067473292350769
[00:00:13:46] Classification Report XGBClassifier:
[00:00:13:47]               precision    recall  f1-score   support

        True       0.42      0.62      0.50        82
       False       0.91      0.82      0.86       388

    accuracy                           0.78       470
   macro avg       0.66      0.72      0.68       470
weighted avg       0.82      0.78      0.80       470

[00:00:13:47] Total: 470 datapoints
[00:00:13:47] Ground truth: 82 positive, 388 negative
[00:00:13:47] Prediction: 122 positive, 348 negative
[00:00:13:71] Predict (massbank_validation_from_sirius)
[00:00:14:14] Optimal threshold saved as png
[00:00:14:14] Optimal threshold: 0.1067473292350769
[00:00:14:18] Classification Report XGBClassifier:
[00:00:14:19]               precision    recall  f1-score   support

        True       0.42      0.62      0.50        82
       False       0.91      0.82      0.86       388

    accuracy                           0.78       470
   macro avg       0.66      0.72      0.68       470
weighted avg       0.82      0.78      0.80       470

[00:00:14:20] Total: 470 datapoints
[00:00:14:20] Ground truth: 82 positive, 388 negative
[00:00:14:20] Prediction: 122 positive, 348 negative
[00:00:14:43] Done XGBClassifier >> 13.87 seconds.
___________________________________________________________________________


[00:00:14:43] Finished: Total time >> 00:00:14

